version: "3"

includes:
  test:
    taskfile: ./Requests.yml

tasks:
  run-backend-dev:
    desc: Run the backend container for testing
    cmds:
      - cd src/backend && python3 -m venv venv && source venv/bin/activate && pip install -r requirements.txt && uvicorn main:app --reload --port 8000

  run-frontend-dev:
    desc: Run the frontend container for testing
    cmds:
      - cd src/frontend && npm install && npm run start

  run-dev:
    desc: Run frontend and backend together; stop both on Ctrl+C
    deps:
      - run-backend-dev
      - run-frontend-dev
